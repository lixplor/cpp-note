# 基础

## 简介

### C++的特点

* 是一种中级语言
* 静态类型
* 编译型语言
* 大小写敏感
* 支持面向过程和面向对象
* 支持泛型
* 是C的超集, C程序也可以当做C++程序运行


### 标准库

* 标准的C++由3个部分组成
    - 核心语言: 提供所有构建块, 包括变量, 数据类型, 常量等
    - C++标准库: 提供了大量函数, 用于操作文件, 字符串等
    - 标准模板库(STL): 提供大量方法, 用于操作数据结构等


### ANSI标准

* ANSI标准是为了确保C++的移植性: 即编写的代码在Mac, Linux, Windows平台上都可以编译运行


## 环境配置

* 需要安装C/C++编译器才能够编译代码
* 各平台编译器
    - Windows: MinGW
    - Linux: GCC
    - Mac OS: Xcode
* `g++`程序
    - g++是将GCC默认语言设置为C++的一个特殊版本, 使用C++标准库而不是C标准库
    - 常用选项
        - `-ansi`: 只支持ANSI标准的C语法. 会禁用GNU C的某些特性, 如asm和typeof关键字
        - `-c`: 只编译生成目标文件
        - `-DMACRO`: 以字符串`1`定义MACRO宏
        - `-DMACRO=DEFN`: 以字符串`DEFN`定义MACRO宏
        - `-E`: 只运行C预编译器
        - `-g`: 生成调试信息. GNU调试器可利用该信息
        - `-IDIRECTORY`: 指定额外的头文件搜索路径DIRECTORY
        - `-LDIRECTORY`: 指定额外的函数库搜索路径DIRECTORY
        - `-ILIBRARY`: 连接时搜索指定的函数库LIBRARY
        - `-m486`: 针对486进行代码优化
        - `-o File`: 生成指定的File可执行文件
        - `-O0`: 不进行优化处理
        - `-O`或`-O1`: 优化生成代码
        - `-O2`: 进一步优化
        - `-O3`: 更进一步优化, 包括`inline`函数
        - `-shared`: 生成共享目标文件. 通常用在建立共享库时
        - `-static`: 禁用共享连接
        - `-UMACRO`: 取消对MACRO宏的定义
        - `-w`: 不生成任何警告信息
        - `-Wall`: 生成所有警告信息
    - 编译代码, 生成可执行文件:
        - 最简化方式: `g++ helloworld.cpp`
            - 没有指定可执行文件名称, 默认使用`a.out`文件名
        - 指定可执行程序文件名: `g++ helloworld.cpp -o helloworld`
            - 这会生成一个名为`helloworld`的可执行文件
        - 编译多个代码文件, 生成一个可执行程序: `g++ a.cpp, b.cpp -o app`
    - 运行可执行文件
        - `./helloworld`


## 语法

* 组成部分
    - 对象
    - 类
    - 方法
    - 临时变量
* 每条语句用`;`分号结尾
* 代码块用`{}`花括号括起来
* 标识符: 用来标识变量, 函数, 类, 模块, 自定义项目的名称
    - 命名规则: 大小写英文字母`a-zA-Z`, 下划线`_`, 数字`0-9`
    - 不能使用标点符号, 如`@`, `$`, `%`
    - 英文字母和下划线可以开头, 数字不能开头
* 保留字: 具有特殊用途的单词, 不能作为标识符名称
* 三字符组: 也成为三字符序列, 用于表示另一个字符的三个字符
    - 格式: 以2个问号开头, `??x`
    - 三字符序列可以出现在任何地方, 包括字符串, 字符序列, 注释和预处理指令
    - 常见三字符序列:
        - `??=`:`#`
        - `??/`:`\`
        - `??'`:`^`
        - `??(`:`[`
        - `??)`:`]`
        - `??!`:`|`
        - `??<`:`{`
        - `??>`:`}`
        - `??-`:`~`
    - 如果希望使用2个连续的问号而不被当做三字符组, 可以使用以下2种方法:
        - 利用字符串拼接: `"what?""? oh..."`
        - 使用转义: `what?\? oh...`
    - VC++2010开始不再自动替换三字符组. g++默认支持三字符组
* 注释
    - 单行注释: `// 单行注释`
    - 多行注释: `/* 多行注释 */`
* 数据类型
    - 定义类型: `typedef`, 为已有类型取一个新名字
        - 格式: `typedef 原类型名 新类型名;`
        - 示例: `typedef unsigned char uchar;`
    - 基本数据类型(7种)
        - `bool`: 布尔型
        - `char`: 字符型
        - `wchar_t`: 宽字符型
        - `int`: 整型
        - `float`: 浮点型
        - `double`: 双精度浮点型
        - `void`: 无类型
    - 基本数据类型修饰符
        - `signed`: 有符号
        - `unsigned`: 无符号
        - `short`: 修饰int, 短整型
        - `long`: 修饰int, 长整型
    - 所以汇总起来, 有如下类型:

|类型                |位           |范围                                                     |
|--------------------|------------|---------------------------------------------------------|
|`char`              |1 个字节     |`-128 到 127` 或者 `0 到 255`                             |
|`unsigned char`     |1 个字节     |`0 到 255`                                               |
|`signed char`       |1 个字节     |`-128 到 127`                                            |
|`int`               |4 个字节     |`-2147483648 到 2147483647`                              |
|`unsigned int`      |4 个字节     |`0 到 4294967295`                                        |
|`signed int`        |4 个字节     |`-2147483648 到 2147483647`                              |
|`short int`         |2 个字节     |`-32768 到 32767`                                        |
|`unsigned short int`|2 个字节     |`0 到 65,535`                                            |
|`signed short int`  |2 个字节     |`-32768 到 32767`                                        |
|`long int`          |8 个字节     |`-9,223,372,036,854,775,808 到 9,223,372,036,854,775,807`|
|`signed long int`   |8 个字节     |`-9,223,372,036,854,775,808 到 9,223,372,036,854,775,807`|
|`unsigned long int` |8 个字节     |`0 to 18,446,744,073,709,551,615`                        |
|`float`             |4 个字节     |`+/- 3.4e +/- 38 (~7 个数字)`                             |
|`double`            |8 个字节     |`+/- 1.7e +/- 308 (~15 个数字)`                          |
|`long double`       |8 个字节     |`+/- 1.7e +/- 308 (~15 个数字)`                          |
|`wchar_t`           |2 或 4 个字节|1 个宽字符                                                |


* 枚举类型: 是若干枚举常量的集合
    - 格式: `enum 枚举类型名称 { 枚举常量1, 枚举常量2, ..., 枚举常量n } 变量名;`
    - 示例: `enum color {red, green, blue} c;`
    - 默认情况下, 第一个枚举常量的值为0, 第二个为1, 以此类推. 但也可以赋初始值:
        - `enum color {red, green = 5, blue} c;`, 此时, red依然是0, green是5, blue根据前面的值递增, 所以为6


### HelloWorld

```cpp
#include <iostream>                // 引入头文件
using namespace std;               // 命名空间

int main() {                       // 程序入口
    cout << "Hello World!";       // 输出语句
    return 0;                      // 返回0表示正常退出
}
```
